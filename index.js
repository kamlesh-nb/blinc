!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.blinc=t():e.blinc=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return a})),n.d(t,"Element",(function(){return s})),n.d(t,"Push",(function(){return l})),n.d(t,"Router",(function(){return d})),n.d(t,"Routes",(function(){return c}));const r=e=>{if("string"==typeof e)return document.createTextNode(e.toString());const t=e.isSvg?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);for(var n in e.elem=t,e.attrs)"function"==typeof e.attrs[n]?t.addEventListener(n.slice(2),e.attrs[n],!0):"text"===n?t.textContent=e.attrs[n]:"ref"===n?e.attrs[n].node=t:t.setAttribute(n,e.attrs[n]);for(var o in e.children){"string"!=typeof e.children[o]&&(e.children[o].key=o);var i=r(e.children[o]);t.appendChild(i)}return t},o=(e,t,n,i,s)=>{if(null!==n&&void 0===i);else{if("string"==typeof n||"string"==typeof i)return void(n!==i&&s.nodes.push(()=>{const n=r(i);e.elem.childNodes[t].replaceWith(n),e.children[t]=i}));n.tag!==i.tag&&s.nodes.push(()=>{const e=n.elem.parentNode,t=r(i);e.replaceChild(t,n.elem),Object.assign(n,i),n.elem=t})}((e,t,n)=>{const r=r=>{n.attribs.push(()=>{"function"!=typeof t.attrs[r]?"text"===r?e.elem.textContent=t.attrs[r]:"ref"===r?t.attrs[r].node=e.elem:e.elem.setAttribute(r,t.attrs[r]):(e.elem.removeEventListener(r.slice(2),e.attrs[r],!0),e.elem.addEventListener(r.slice(2),t.attrs[r],!0)),e.attrs[r]=t.attrs[r]})},o=r=>{r in t.attrs||n.attribs.push(()=>{e.elem.removeAttribute(r),delete e.attrs[r]})};for(const n in t.attrs)void 0!==e.attrs[n]&&e.attrs[n]===t.attrs[n]||r(n);for(const t in e.attrs)o(t)})(n,i,s),((e,t,n)=>{const i=Object.keys(e.children).length,s=Object.keys(t.children).length,l=i>s?i:s,c=i=>{void 0===e.children[i]?n.kids.push(()=>{const n=r(t.children[i]);t.children[i].elem=n,e.children[i]={},Object.assign(e.children[i],t.children[i]),e.elem.appendChild(n)}):void 0===t.children[i]?n.kids.push(()=>{e.elem.removeChild(e.children[i].elem),delete e.children[i]}):o(e,i,e.children[i],t.children[i],n)};for(let e=0;e<l;e++)c(e)})(n,i,s)},i=(e,t)=>{e.forEach(e=>{e[1]?e[0](e[1],t):e[0](t)})},s=(e={})=>{let t,n,s=e.init?e.init[0]:null,l=e.init?e.init[1]:null;const c=e.reducer,d=e.render,a=e.subscriptions?e.subscriptions:null;let u=[],p=[];const f=e=>{var n=d(e,h);((e,t)=>{const n={nodes:[],kids:[],attribs:[]};o({},0,e,t,n),n.nodes.forEach(e=>{e()}),n.attribs.forEach(e=>{e()}),n.kids.forEach(e=>{e()})})(t,n),Object.assign(s,e)},h=e=>{const t=c(e,s),n=t[1];n&&i(n,h),f(t[0])};return{mount:e=>{t=s?d(s,h):d(),n=r(t),e.childNodes.length>0?e.replaceChild(n,e.childNodes[0]):e.appendChild(n),l&&i(l,h),a&&(a.forEach(e=>{u.push([e.subscribe]),p.push(e.unsubscribe)}),i(u,h))},unMount:()=>{p.forEach(e=>{e()})}}},l=e=>{history.pushState({path:e},"",e)},c=(e={})=>e,d=(e,t,n={})=>{let r,o={node:null},i=null;var l;history.pushState=(l=history.pushState,function(){var e=l.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),e}),window.addEventListener("popstate",e=>{c(o.node,window.location.pathname)}),window.addEventListener("pushstate",e=>{c(o.node,window.location.pathname)});const c=(n,o)=>{const l=r.filter(e=>((e,t)=>{const n=[],r=e.path.replace(/([:*])(\w+)/g,(e,t,r)=>(n.push(r),"([^/]+)"))+"(?:/|$)";let o={};const i=t.match(new RegExp(r));return null!==i&&(o=i.slice(1,i.length).reduce((e,t,r)=>(null===e&&(e={}),e[n[r]]=t,e),null)),e.params=o,i})(e,o))[0];if(!l)throw new Error(`Route for path, ${o} not defined...`);i&&i.unMount();let c={state:e,dispatch:t,params:l.params};i=s(l.element(c)),i.mount(n)};return document.addEventListener("readystatechange",e=>{"complete"===e.target.readyState&&c(o.node,"/")}),n&&(n.attrs.ref=o,r=n.children[0],n.children={}),n},a=(e={})=>{s(e).mount(document.body)}}])}));
//# sourceMappingURL=index.js.map