{"version":3,"sources":["webpack://blinc/webpack/bootstrap","webpack://blinc/./src/index.js","webpack://blinc/./src/types.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","tags","svgs","spreadKids","kids","_kids","length","split","forEach","tag","args","attrs","Array","isArray","children","elem","isSvg","renderElement","vNode","document","createTextNode","$el","createElementNS","createElement","addEventListener","slice","textContent","node","setAttribute","kid","Error","$child","appendChild","diff","parent","index","vOldNode","vNewNode","patches","undefined","nodes","push","$node","childNodes","replaceWith","$parent","parentNode","$newNode","replaceChild","assign","oNode","nNode","patch","attribs","removeEventListener","remove","removeAttribute","k","diffAttribs","xLen","keys","yLen","len","removeChild","diffKids","runEffects","effects","dispatch","effect","activeLink","Elements","props","vOldDom","$viewNode","oState","init","onMount","reducer","render","subscriptions","subs","unsubs","applyState","nState","vNewDom","diffAndPatch","msg","commands","mount","subscription","subscribe","unsubscribe","unMount","unSub","path","history","pushState","Link","a","onclick","e","classList","target","add","preventDefault","pathname","Routes","Router","state","routes","rootRef","f","retVal","apply","this","arguments","window","dispatchEvent","Event","onpopstate","event","pop","location","route","filter","requestPath","paramNames","regexPath","replace","full","colon","params","routeMatch","match","RegExp","reduce","View","view","readyState","ref"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const { tags, svgs } = require('./types')\nconst spreadKids = (kids) => {\n  let _kids = {};\n  for (let i = 0; i < kids.length; i++) {\n    _kids[i] = kids[i];\n  }\n  return _kids;\n};\ntags.split(\",\").forEach((tag) => {\n  exports[tag] = (...args) => {\n    let kids,\n      attrs,\n      elem,\n      key,\n      isSvg = false;\n    Array.isArray(args[0])\n      ? (kids = spreadKids(args[0]))\n      : typeof args[0] === \"object\"\n      ? (attrs = args[0])\n      : null;\n    Array.isArray(args[1])\n      ? (kids = spreadKids(args[1]))\n      : typeof args[1] === \"object\"\n      ? (attrs = args[1])\n      : null;\n    return { tag, attrs: attrs || {}, children: kids || {}, elem, key, isSvg };\n  };\n});\n\nsvgs.split(\",\").forEach((tag) => {\n  exports[tag] = (...args) => {\n    let kids,\n      attrs,\n      elem,\n      key,\n      isSvg = true;\n    Array.isArray(args[0])\n      ? (kids = spreadKids(args[0]))\n      : typeof args[0] === \"object\"\n      ? (attrs = args[0])\n      : null;\n    Array.isArray(args[1])\n      ? (kids = spreadKids(args[1]))\n      : typeof args[1] === \"object\"\n      ? (attrs = args[1])\n      : null;\n    return { tag, attrs: attrs || {}, children: kids || {}, elem, key, isSvg };\n  };\n});\n\nconst renderElement = (vNode) => {\n  if (typeof vNode === \"string\") {\n    return document.createTextNode(vNode);\n  }\n  const $el = vNode.isSvg\n    ? document.createElementNS(\"http://www.w3.org/2000/svg\", vNode.tag)\n    : document.createElement(vNode.tag);\n\n  vNode.elem = $el;\n\n  for (var key in vNode.attrs) {\n    if (typeof vNode.attrs[key] === \"function\") {\n      $el.addEventListener(key.slice(2), vNode.attrs[key], true);\n    } else {\n      if (key === \"text\") {\n        $el.textContent = vNode.attrs[key];\n      } else if (key === \"ref\") {\n        vNode.attrs[key].node = $el;\n      } else {\n        $el.setAttribute(key, vNode.attrs[key]);\n      }\n    }\n  }\n\n  for (var kid in vNode.children) {\n    if (typeof vNode.children[kid] === \"number\")\n      throw new Error(\n        \"Number cannot be used in the document, use String() instead...\"\n      );\n\n    if (typeof vNode.children[kid] !== \"string\") {\n      vNode.children[kid].key = kid;\n    }\n    var $child = renderElement(vNode.children[kid]);\n    $el.appendChild($child);\n  }\n\n  return $el;\n};\n\nconst diffAttribs = (oNode, nNode, patches) => {\n  const patch = (key) => {\n    patches.attribs.push(() => {\n      if (typeof nNode.attrs[key] !== \"function\") {\n        if (key === \"text\") {\n          oNode.elem.textContent = nNode.attrs[key];\n        } else if (key === \"ref\") {\n          nNode.attrs[key].node = oNode.elem\n        } else {\n          oNode.elem.setAttribute(key, nNode.attrs[key]);\n        }\n      } else {\n        oNode.elem.removeEventListener(key.slice(2), oNode.attrs[key], true);\n        oNode.elem.addEventListener(key.slice(2), nNode.attrs[key], true);\n      }\n      oNode.attrs[key] = nNode.attrs[key];\n    });\n  };\n  for (const key in nNode.attrs) {\n    if (\n      oNode.attrs[key] === undefined ||\n      oNode.attrs[key] !== nNode.attrs[key]\n    ) {\n      patch(key);\n    }\n  }\n  const remove = (key) => {\n    if (!(key in nNode.attrs)) {\n      patches.attribs.push(() => {\n        oNode.elem.removeAttribute(key);\n        delete oNode.attrs[key];\n      });\n    }\n  };\n  for (const k in oNode.attrs) {\n    remove(k);\n  }\n};\n\nconst diffKids = (oNode, nNode, patches) => {\n  const xLen = Object.keys(oNode.children).length;\n  const yLen = Object.keys(nNode.children).length;\n\n  const len = xLen > yLen ? xLen : yLen;\n\n  const patch = (i) => {\n    if (oNode.children[i] === undefined) {\n      patches.kids.push(() => {\n        const $el = renderElement(nNode.children[i]);\n        nNode.children[i].elem = $el;\n        oNode.children[i] = {};\n        Object.assign(oNode.children[i], nNode.children[i]);\n        oNode.elem.appendChild($el);\n      });\n    } else if (nNode.children[i] === undefined) {\n      patches.kids.push(() => {\n        oNode.elem.removeChild(oNode.children[i].elem);\n        delete oNode.children[i];\n      });\n    } else {\n      diff(oNode, i, oNode.children[i], nNode.children[i], patches);\n    }\n  };\n\n  for (let i = 0; i < len; i++) {\n    patch(i);\n  }\n};\n\nconst diff = (parent, index, vOldNode, vNewNode, patches) => {\n  if (vOldNode !== null && vNewNode === undefined) {\n  } else if (typeof vOldNode === \"string\" || typeof vNewNode === \"string\") {\n    if (vOldNode !== vNewNode) {\n      patches.nodes.push(() => {\n        const $node = renderElement(vNewNode);\n        parent.elem.childNodes[index].replaceWith($node);\n        parent.children[index] = vNewNode;\n      });\n    }\n    return;\n  } else if (vOldNode.tag !== vNewNode.tag) {\n    patches.nodes.push(() => {\n      const $parent = vOldNode.elem.parentNode;\n      const $newNode = renderElement(vNewNode);\n      $parent.replaceChild($newNode, vOldNode.elem);\n      Object.assign(vOldNode, vNewNode);\n      vOldNode.elem = $newNode;\n    });\n  }\n\n  diffAttribs(vOldNode, vNewNode, patches);\n  diffKids(vOldNode, vNewNode, patches);\n};\n\nconst diffAndPatch = (vOldNode, vNewNode) => {\n  const patches = { nodes: [], kids: [], attribs: [] };\n  diff({}, 0, vOldNode, vNewNode, patches);\n  patches.nodes.forEach((patch) => {\n    patch();\n  });\n  patches.attribs.forEach((patch) => {\n    patch();\n  });\n  patches.kids.forEach((patch) => {\n    patch();\n  });\n};\n\nconst runEffects = (effects, dispatch) => {\n  effects.forEach((effect) => {\n    if (effect[1]) {\n      effect[0](effect[1], dispatch);\n    } else {\n      effect[0](dispatch);\n    }\n  });\n};\n\nexports.Elements = (props = {}) => {\n  let vOldDom, $viewNode;\n  let oState = props.init ? props.init[0] : null;\n  let onMount = props.init ? props.init[1] : null;\n  const reducer = props.reducer;\n  const render = props.render;\n  const subscriptions = props.subscriptions ? props.subscriptions : null;\n  let subs = [],\n    unsubs = [];\n\n  const applyState = (nState) => {\n    var vNewDom = render(nState, dispatch);\n    diffAndPatch(vOldDom, vNewDom);\n    Object.assign(oState, nState);\n  };\n\n  const dispatch = (msg) => {\n    const nState = reducer(msg, oState);\n    const commands = nState[1];\n    if (commands) {\n      runEffects(commands, dispatch);\n    }\n    applyState(nState[0]);\n  };\n\n  const mount = ($node) => {\n    vOldDom = oState ? render(oState, dispatch) : render();\n    $viewNode = renderElement(vOldDom);\n    if ($node.childNodes.length > 0) {\n      $node.replaceChild($viewNode, $node.childNodes[0]);\n    } else {\n      $node.appendChild($viewNode);\n    }\n    if (onMount) {\n      runEffects(onMount, dispatch);\n    }\n    if (subscriptions) {\n      subscriptions.forEach((subscription) => {\n        subs.push([subscription.subscribe]);\n        unsubs.push(subscription.unsubscribe);\n      });\n      runEffects(subs, dispatch);\n    }\n  };\n\n  const unMount = () => {\n    unsubs.forEach((unSub) => {\n      unSub();\n    });\n  };\n\n  return { mount, unMount };\n};\n\nexports.push = (path) => {\n  history.pushState({ path: path }, \"\", path);\n}\n\nlet activeLink\nexports.Link = (props = {}) => {  \n  return exports.a({ \n   ...props,\n    onclick: (e) => {\n      if(activeLink)\n        activeLink.classList.remove('active')\n      activeLink = e.target;\n      activeLink.classList.add('active')\n      e.preventDefault();\n      exports.push(e.target.pathname)\n    },\n  });\n};\n\nexports.Routes = (props = {}) => {\n  return props\n}\n\nexports.Router = (state, dispatch, props = {}) => {\n  let rootRef = { node: null };\n  let routes\n\n  history.pushState = ( f => function pushState(){\n    var retVal = f.apply(this, arguments);\n    window.dispatchEvent(new Event('pushstate'));\n    return retVal;\n  })(history.pushState);\n\n  window.onpopstate = (event) => {\n    pop(window.location.pathname);\n  };\n\n  window.addEventListener('pushstate', (event) => {\n    mount(rootRef.node, window.location.pathname);\n  })\n\n  const match = (route, requestPath) => {\n    const paramNames = [];\n    const regexPath =\n      route.path.replace(/([:*])(\\w+)/g, (full, colon, name) => {\n        paramNames.push(name);\n        return \"([^/]+)\";\n      }) + \"(?:/|$)\";\n\n    let params = {};\n\n    const routeMatch = requestPath.match(new RegExp(regexPath));\n    if (routeMatch !== null) {\n      params = routeMatch\n        .slice(1, routeMatch.length)\n        .reduce((params, value, index) => {\n          if (params === null) params = {};\n          params[paramNames[index]] = value;\n          return params;\n        }, null);\n    }\n    route[\"params\"] = params;\n    return routeMatch;\n  };\n\n  const pop = (path) => {\n    mount(rootRef.node, path)\n  };\n\n  const mount = ($node, path) => {\n    const route = routes.filter((route) => match(route, path))[0];\n    let props = { state, dispatch, params: route.params}\n    this.View(route.view(props)).mount($node)\n  };\n\n  document.addEventListener('readystatechange', event => {\n    if (event.target.readyState === 'complete') {\n      let path = '/'\n      mount(rootRef.node, path);\n    }\n  });\n\n  if (props) {\n    props.attrs.ref = rootRef;\n    routes = props.children[0]\n    props.children = {}\n  }\n\n  return props\n};","const svgs =\n  \"circle,clipPath,defs,ellipse,foreignObject,g,image,line,linearGradient,marker,mask,path,pattern,polygon,polyline,radialGradient,rect,stop,svg,text,tspan\";\nconst tags =\n  \"a,abbr,address,area,article,aside,audio,b,base,bdi,bdo,big,blockquote,body,br,button,canvas,caption,cite,code,col,colgroup,data,datalist,dd,del,details,dfn,dialog,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,link,main,map,mark,marquee,menu,menuitem,meta,meter,nav,noscript,object,ol,optgroup,option,output,p,param,picture,pre,progress,q,rp,rt,ruby,s,samp,script,section,select,small,source,span,strong,style,sub,summary,sup,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,track,u,ul,var,video,wbr\";\n\n  export { tags, svgs }"],"sourceRoot":""}